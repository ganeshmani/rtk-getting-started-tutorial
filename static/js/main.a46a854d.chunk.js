(this["webpackJsonprtk-getting-started"]=this["webpackJsonprtk-getting-started"]||[]).push([[0],{32:function(e,t,r){},59:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(21),c=r.n(s),i=(r(32),r(19)),o=r(33),l=r(31),d=r(6),u=r(38),m=r(20),b=r(26),j=r(25);function x(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}var h=r(1);function p(e){var t=e.children,r=e.className,a=Object(j.a)(e,["children","className"]);return Object(h.jsx)("button",Object(d.a)(Object(d.a)({type:"button",className:x("relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",r)},a),{},{children:t}))}function g(e){var t=e.children,r=e.className,a=Object(j.a)(e,["children","className"]);return Object(h.jsx)("button",Object(d.a)(Object(d.a)({type:"button",className:x("relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",r)},a),{},{children:t}))}function f(e){var t=e.className;return Object(h.jsx)("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"})})}function O(e){var t=e.className;return Object(h.jsx)("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"})})}function y(e){var t=e.className;return Object(h.jsx)("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"})})}function v(e){var t=e.preGlobalFilteredRows,r=e.globalFilter,a=e.setGlobalFilter,s=t.length,c=n.a.useState(r),o=Object(i.a)(c,2),l=o[0],d=o[1],u=Object(m.useAsyncDebounce)((function(e){a(e||void 0)}),200);return Object(h.jsxs)("label",{className:"flex gap-x-2 items-baseline",children:[Object(h.jsx)("span",{className:"text-gray-700",children:"Search: "}),Object(h.jsx)("input",{type:"text",className:"rounded-md px-3 py-2 border border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:l||"",onChange:function(e){d(e.target.value),u(e.target.value)},placeholder:"".concat(s," records...")})]})}function w(e){var t=e.column,r=t.filterValue,a=t.setFilter,s=t.preFilteredRows,c=t.id,i=t.render,o=n.a.useMemo((function(){var e=new Set;return s.forEach((function(t){e.add(t.values[c])})),Object(u.a)(e.values())}),[c,s]);return Object(h.jsxs)("label",{className:"flex gap-x-2 items-baseline",children:[Object(h.jsxs)("span",{className:"text-gray-700",children:[i("Header"),": "]}),Object(h.jsxs)("select",{className:"rounded-md px-3 py-2 border border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",name:c,id:c,value:r,onChange:function(e){a(e.target.value||void 0)},children:[Object(h.jsx)("option",{value:"",children:"All"}),o.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}))]})]})}function N(e){var t=e.value,r=t?t.toLowerCase():"unknown";return Object(h.jsx)("span",{className:x("px-3 py-1 uppercase leading-wide font-bold text-xs rounded-full shadow-sm",r.startsWith("active")?"bg-green-100 text-green-800":null,r.startsWith("inactive")?"bg-yellow-100 text-yellow-800":null,r.startsWith("offline")?"bg-red-100 text-red-800":null),children:r})}var k=function(e){var t=e.columns,r=e.data,a=e.handleCreateProductClick,n=Object(m.useTable)({columns:t,data:r},m.useFilters,m.useGlobalFilter,m.useSortBy,m.usePagination),s=n.getTableProps,c=n.getTableBodyProps,i=n.headerGroups,o=n.prepareRow,l=n.page,u=n.canPreviousPage,j=n.canNextPage,x=n.pageOptions,w=n.pageCount,N=n.gotoPage,k=n.nextPage,C=n.previousPage,P=n.setPageSize,F=n.state,S=n.preGlobalFilteredRows,T=n.setGlobalFilter;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"sm:flex sm:gap-x-2",children:[Object(h.jsx)(v,{preGlobalFilteredRows:S,globalFilter:F.globalFilter,setGlobalFilter:T}),i.map((function(e){return e.headers.map((function(e){return e.Filter?Object(h.jsx)("div",{className:"mt-2 sm:mt-0",children:e.render("Filter")},e.id):null}))})),Object(h.jsx)("div",{className:"ml-auto",children:Object(h.jsx)("button",{type:"button",onClick:a,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create Product"})})]}),Object(h.jsx)("div",{className:"mt-4 flex flex-col",children:Object(h.jsx)("div",{className:"-my-2 overflow-x-auto -mx-4 sm:-mx-6 lg:-mx-8",children:Object(h.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(h.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(h.jsxs)("table",Object(d.a)(Object(d.a)({},s()),{},{className:"min-w-full divide-y divide-gray-200",children:[Object(h.jsx)("thead",{className:"bg-gray-50",children:i.map((function(e){return Object(h.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(h.jsx)("th",Object(d.a)(Object(d.a)({scope:"col",className:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},e.getHeaderProps(e.getSortByToggleProps())),{},{children:Object(h.jsxs)("div",{className:"flex items-center justify-between",children:[e.render("Header"),Object(h.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(h.jsx)(y,{className:"w-4 h-4 text-gray-400"}):Object(h.jsx)(O,{className:"w-4 h-4 text-gray-400"}):Object(h.jsx)(f,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100"})})]})}))}))}))}))}),Object(h.jsx)("tbody",Object(d.a)(Object(d.a)({},c()),{},{className:"bg-white divide-y divide-gray-200",children:l.map((function(e,t){return o(e),Object(h.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(h.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{className:"px-6 py-4 whitespace-nowrap",role:"cell",children:"defaultRenderer"===e.column.Cell.name?Object(h.jsx)("div",{className:"text-sm text-gray-500",children:e.render("Cell")}):e.render("Cell")}))}))}))}))}))]}))})})})}),Object(h.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[Object(h.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[Object(h.jsx)(p,{onClick:function(){return C()},disabled:!u,children:"Previous"}),Object(h.jsx)(p,{onClick:function(){return k()},disabled:!j,children:"Next"})]}),Object(h.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(h.jsxs)("div",{className:"flex gap-x-2 items-baseline",children:[Object(h.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",Object(h.jsx)("span",{className:"font-medium",children:F.pageIndex+1})," of"," ",Object(h.jsx)("span",{className:"font-medium",children:x.length})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{className:"sr-only",children:"Items Per Page"}),Object(h.jsx)("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:F.pageSize,onChange:function(e){P(Number(e.target.value))},children:[5,10,20].map((function(e){return Object(h.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[Object(h.jsxs)(g,{className:"rounded-l-md",onClick:function(){return N(0)},disabled:!u,children:[Object(h.jsx)("span",{className:"sr-only",children:"First"}),Object(h.jsx)(b.a,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),Object(h.jsxs)(g,{onClick:function(){return C()},disabled:!u,children:[Object(h.jsx)("span",{className:"sr-only",children:"Previous"}),Object(h.jsx)(b.c,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),Object(h.jsxs)(g,{onClick:function(){return k()},disabled:!j,children:[Object(h.jsx)("span",{className:"sr-only",children:"Next"}),Object(h.jsx)(b.d,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]}),Object(h.jsxs)(g,{className:"rounded-r-md",onClick:function(){return N(w-1)},disabled:!j,children:[Object(h.jsx)("span",{className:"sr-only",children:"Last"}),Object(h.jsx)(b.b,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})]})]})})]})]})]})},C=r(34),P=r(10),F=Object(C.a)({reducerPath:"productsApi",baseQuery:Object(P.d)({baseUrl:"https://rtk-gettingstarted-backend.herokuapp.com/"}),tagTypes:["Product"],endpoints:function(e){return{fetchAllProducts:e.query({query:function(){return"/products/"},providesTags:["Product"]}),createProduct:e.mutation({query:function(e){return{url:"/products",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:e}},invalidatesTags:["Product"]}),updateProduct:e.mutation({query:function(e){var t=e.id,r=Object(j.a)(e,["id"]);return{url:"/products/".concat(t),method:"PUT",body:r}},invalidatesTags:["Product"]})}}}),S=F.useFetchAllProductsQuery,T=F.useCreateProductMutation,B=(F.useUpdateProductMutation,r(36)),L=r.n(B),A=r(18),M=r.n(A),z=r(28),G=r(15),H=r(62),R=r(61);function W(e){var t=e.isOpen,r=e.setOpen,n=e.children;return Object(h.jsx)(H.a.Root,{show:t,as:a.Fragment,children:Object(h.jsx)(R.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:r,children:Object(h.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(h.jsx)(H.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(h.jsx)(R.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(h.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(h.jsx)(H.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(h.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:n})})]})})})}var q,E=r(24),U=function(e){var t=e.isOpen,r=e.handleModalClick,n=Object(a.useState)({name:"",category:"",price:"",stock:""}),s=Object(i.a)(n,2),c=s[0],o=s[1],l=T(),u=Object(i.a)(l,2),m=u[0],b=u[1],j=b.data,x=b.isSuccess;Object(a.useEffect)((function(){x&&(E.b.success("Product Created Successfully"),r())}),[j,x]);var p=function(e){o(Object(d.a)(Object(d.a)({},c),{},Object(G.a)({},e.target.name,e.target.value)))},g=function(){var e=Object(z.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,m(Object(d.a)({},c));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),E.b.error("Error while creating an user");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(W,{isOpen:t,setOpen:r,children:Object(h.jsx)("form",{onSubmit:g,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h4",{className:"mt-1 text-center text-3xl font-extrabold text-gray-900",children:"Create Product"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Name"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"name",name:"name",type:"text",onChange:p,autoComplete:"name",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mt-0",children:"Category"}),Object(h.jsx)("div",{className:"mt-1 w-full",children:Object(h.jsxs)("select",{id:"category",name:"category",onChange:p,autoComplete:"category",className:"block focus:ring-indigo-500 px-3 py-2 border focus:border-indigo-500 w-full shadow-sm sm:text-sm border-gray-300 rounded-md",children:[Object(h.jsx)("option",{children:"Electronics"}),Object(h.jsx)("option",{children:"Clothing"}),Object(h.jsx)("option",{children:"Furniture"}),Object(h.jsx)("option",{children:"Footwear"})]})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Stock"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"stock",name:"stock",type:"number",onChange:p,autoComplete:"stock",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Price"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"price",name:"price",type:"number",onChange:p,autoComplete:"price",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),Object(h.jsx)("div",{className:"mt-4",children:Object(h.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create"})})]})})})},D=Object(l.css)(q||(q=Object(o.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]))),I=function(){var e=S(),t=e.data,r=e.isLoading,s=Object(a.useState)(!1),c=Object(i.a)(s,2),o=c[0],l=c[1],d=n.a.useMemo((function(){return[{Header:"Name",accessor:"name"},{Header:"Category",accessor:"category",Cell:N,Filter:w,filter:"includes"},{Header:"Unit Price",accessor:"price"},{Header:"Stock",accessor:"stock"}]}),[]),u=function(){l(!o)};return Object(h.jsxs)(a.Fragment,{children:[r?Object(h.jsx)(L.a,{color:"#4045B4",loading:r,css:D,size:15}):t?Object(h.jsx)(k,{columns:d,data:t,handleCreateProductClick:u}):null,Object(h.jsx)(U,{isOpen:o,handleModalClick:u})]})};var J=function(){return Object(h.jsx)("div",{className:"container mx-auto p-4",children:Object(h.jsx)(I,{})})},Q=r(2),V=r(37);function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var K=Object(Q.createAsyncThunk)("counter/fetchCount",function(){var e=Object(z.a)(M.a.mark((function e(t){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),X=Object(Q.createSlice)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(K.pending,(function(e){e.status="loading"})).addCase(K.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),Y=X.actions,Z=(Y.increment,Y.decrement,Y.incrementByAmount,X.reducer),_=Object(Q.configureStore)({reducer:Object(G.a)({counter:Z},F.reducerPath,F.reducer),middleware:function(e){return e().concat(F.middleware)}});Object(V.setupListeners)(_.dispatch);var ee=r(7);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsxs)(ee.a,{store:_,children:[Object(h.jsx)(J,{}),Object(h.jsx)(E.a,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,1,2]]]);
//# sourceMappingURL=main.a46a854d.chunk.js.map